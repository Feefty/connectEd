{"version":3,"sources":["app.js","jasny-bootstrap.min.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC30BA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["String.prototype.replaceAll = function(search, replacement) {\r\n    var target = this;\r\n    return target.split(search).join(replacement);\r\n};\r\n\r\nChart.defaults.global.responsive = true;\r\n\r\nvar days = [\r\n\t'',\r\n\t'Monday',\r\n\t'Tuesday',\r\n\t'Wednesday',\r\n\t'Thursday',\r\n\t'Friday',\r\n\t'Saturday'\r\n];\r\n\r\nvar gradeLevels = [\r\n\t\"\",\r\n\t\"Grade 1\",\r\n\t\"Grade 2\",\r\n\t\"Grade 3\",\r\n\t\"Grade 4\",\r\n\t\"Grade 5\",\r\n\t\"Grade 6\",\r\n\t\"Grade 7\",\r\n\t\"Grade 8\",\r\n\t\"Grade 9\",\r\n\t\"Grade 10\"\r\n];\r\n\r\nvar attendanceStatuses = [\r\n\t\"Absent\",\r\n\t\"Present\",\r\n\t\"Late\"\r\n];\r\n\r\nvar remarks = [\r\n    \"Failed\",\r\n    \"Passed\",\r\n    \"Dropped\"\r\n];\r\n\r\nvar examStatuses = [\r\n    \"Unverified\",\r\n    \"Verified\",\r\n    \"Undecided\"\r\n];\r\n\r\nvar question_duration;\r\n\r\n$(function() {\r\n\r\n    var source = $('.fullcalendar').data('source');\r\n    $('[data-toggle=\"calendar\"]').fullCalendar({\r\n        eventSources: [\r\n            {\r\n                url: source\r\n            }\r\n        ]\r\n    });\r\n\r\n\t$.ajaxSetup({\r\n        headers: {\r\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n        }\r\n\t});\r\n\tvar isLogged = parseInt($('meta[name=\"is-logged\"]').attr('content')) === 1 ? true : false;\r\n\r\n\t$('[data-toggle=\"tooltip\"]').tooltip();\r\n\t$('.tooltips').tooltip();\r\n\t$('[data-toggle=\"select\"]').selectpicker();\r\n\r\n\t$('#add-more, [data-toggle=\"add-more\"]').on('click', function() {\r\n\t\tvar target = $(this).data('target');\r\n\r\n\t\tif (target != \"undefined\") {\r\n\t\t\t$content = $('[data-id=\"'+ target +'\"]').first().html();\r\n\t\t\t$('[data-holder=\"'+ target +'\"]').append($content);\r\n\t\t} else {\r\n\t\t\t$content = $('.add-more-items').first().html();\r\n\t\t\t$('#add-more-holder').append($content);\r\n\t\t}\r\n\t});\r\n\r\n\t$('a[data-toggle=\"tab\"]').on('shown.bs.tab', function (e) {\r\n\t    $('.dropdown-menu li.active').removeClass('active');\r\n\t    $(this).parent('li').addClass('active');\r\n\t});\r\n\r\n\t$('#attendance [name=\"date\"]').on('change', function() {\r\n\t\t$('#attendance .img-thumbnail')\r\n\t\t\t.removeClass('bg-danger')\r\n\t\t\t.removeClass('bg-warning')\r\n\t\t\t.removeClass('bg-success');\r\n\t\t});\r\n\r\n\t$('#start-exam').on('click', function(e) {\r\n\t\tvar btn = $(this);\r\n\t\tvar exam_id = $(this).data('exam-id');\r\n\t\tvar class_subject_exam_id = $(this).data('class-subject-exam-id');\r\n\t\tvar class_subject_id = $(this).data('class-subject-id');\r\n\t\tvar $block = $('#exam-question-block');\r\n\t\tvar $answer_block = $('#question-answer-block', $block);\r\n\t\tvar $timer = 0;\r\n\t\tvar $content_msg = $('#content-msg');\r\n\t\t$('#question-timer').html(\"\");\r\n\t\t// hide the button\r\n\t\tbtn.hide();\r\n\t\t// loading icon\r\n\t\t$('#question-block', $block).html('<div class=\"text-center\"><i class=\"fa fa-spinner fa-spin\"></i> Loading question...</div>');\r\n\t\t$answer_block.hide();\r\n\r\n\t\tvar examTimer = setInterval(function() {\r\n\t\t\t$timer++;\r\n\t\t}, 1000);\r\n\r\n\t\t$.get('/class/subject/exam/question/'+ exam_id, function(data) {\r\n\t\t\t// fetch the question\r\n\t\t\tvar $question = data;\r\n\t\t\tvar $answer_formatted;\r\n\r\n\t\t\tif ($question === undefined || ! $question) {\r\n\t\t\t\tgetExamGrade(exam_id);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// loeading icon\r\n\t\t\t$answer_block.html('<div class=\"text-center\"><i class=\"fa fa-spinner fa-spin\"></i> Loading answers...</div>');\r\n\t\t\tvar time_limit = parseInt($question.time_limit);\r\n\r\n\t\t\t// answers for multiple choice category\r\n\t\t\tif ($question.category == 'multiplechoice' || $question.category == 'fillintheblank') {\r\n\t\t\t\t$.get('/class/subject/exam/answer/'+ $question.id, function(data_answer) {\r\n\r\n\t\t\t\t\tif ($question.category == 'multiplechoice') {\r\n\t\t\t\t\t\t$answer_formatted = \"<ul class='list-unstyled'>\";\r\n\r\n\t\t\t\t\t\t$.each(data_answer, function(key, value) {\r\n\t\t\t\t\t\t\t$answer_formatted += \"<li><label><input type='radio' name='answer' value='\"+ value.answer +\"'> \"+ value.answer +\"</label></li>\";\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t$answer_formatted += \"</ul>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t$answer_formatted = \"<ul class='list-unstyled'>\";\r\n\r\n\t\t\t\t\t\tfor (var i = 0; i < parseInt(data_answer); i++) {\r\n\t\t\t\t\t\t\t$answer_formatted += \"<li><input type='text' name='answer[]' class='form-control'></li>\";\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t$answer_formatted += \"</ul class='list-unstyled>\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// display the answers format\r\n\t\t\t\t\t$answer_block.html($answer_formatted).hide().fadeIn();\r\n\t\t\t\t\t$answer_block.append(\"<button type='button' onclick='submitAnswer(\"+ $timer +\", \"+ $question.id +\", \"+ class_subject_exam_id +\", \\\"\"+ $question.category +\"\\\", \"+ class_subject_id +\")' class='btn btn-success'>Submit Answer</button>\");\r\n\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// answers for true or false category\r\n\t\t\t\tif ($question.category == 'trueorfalse') {\r\n\t\t\t\t\t$answer_formatted = \"<ul class='list-unstyled'>\";\r\n\t\t\t\t\t$answer_formatted += \"<li><label><input type='radio' name='answer' value='true'> True</label></li>\";\r\n\t\t\t\t\t$answer_formatted += \"<li><label><input type='radio' name='answer' value='false'> False</label></li>\";\r\n\t\t\t\t\t$answer_formatted += \"</ul>\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// answers for identification category\r\n\t\t\t\tif ($question.category == 'identification') {\r\n\t\t\t\t\t$answer_formatted = \"<div class='form-group'><input type='text' name='answer' class='form-control'></div>\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// answers for essay category\r\n\t\t\t\tif ($question.category == 'essay') {\r\n\t\t\t\t\t$answer_formatted = \"<div class='form-group'><textarea name='answer' class='form-control'></textarea></div>\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// display the answers format\r\n\t\t\t\t$answer_block.html($answer_formatted).hide().fadeIn();\r\n\t\t\t\t$answer_block.append(\"<button type='button' onclick='submitAnswer(\"+ $timer +\", \"+ $question.id +\", \"+ class_subject_exam_id +\", \\\"\"+ $question.category +\"\\\", \"+ class_subject_id +\")' class='btn btn-success'>Submit Answer</button>\");\r\n\t\t\t}\r\n\r\n\t\t\tif (time_limit != 0) {\r\n\t\t\t\t// start time_limit\r\n\t\t\t\t$('#question-block', $block).before(\"<div id='question-timer'>You have <span id='time-holder' class='text-danger'></span> seconds left to answer.</div>\");\r\n\t\t\t\tquestion_duration = setInterval(function() {\r\n\t\t\t\t\tif (time_limit <= 0) {\r\n\t\t\t\t\t\tclearInterval(question_duration);\r\n\t\t\t\t\t\tclearInterval(examTimer);\r\n\r\n\t\t\t\t\t\tsubmitAnswer($timer, $question.id, class_subject_exam_id, $question.category, class_subject_id);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$('#time-holder').html(time_limit--);\r\n\t\t\t\t}, 1000); // every second\r\n\t\t\t}\r\n\r\n\t\t\tif ($question.category == 'fillintheblank') {\r\n\t\t\t\t$question.question = $question.question.replaceAll(':answer', '_______');\r\n\t\t\t}\r\n\r\n\t\t\tvar question_formatted = \"<div class='well'>\"+ $question.question +\"</div>\";\r\n\t\t\t$('#question-block', $block).html(question_formatted).hide().fadeIn();\r\n\t\t});\r\n\t});\r\n\r\n\t$('[data-toggle=\"table\"]').on('load-success.bs.table', function() {\r\n\t\t$('[data-toggle=\"tooltip\"]').tooltip();\r\n\t});\r\n\r\n\tif (isLogged) {\r\n\t\tvar notif_data, notif_num;\r\n\t\t$.get('/notification/api', function(data) {\r\n\t\t\tnotif_data = data;\r\n\t\t\tnotif_num = notif_data.length;\r\n\r\n\t\t\tif (notif_num > 0) {\r\n\t\t\t\t$('.notification-icon').html(\"<span class='badge'>\"+ data.length +\"</span>\");\r\n\r\n\t\t\t\tvar notif_html = \"<li class='notification-title'><strong>Notifications</strong><span class='text-underline pull-right text-warning mark-as-read' onClick='readAll()'>Mark all as read</span></li>\";\r\n\r\n\t\t\t\t$.each(notif_data, function(key, val) {\r\n\t\t\t\t\tif (val.url != \"\") {\r\n\t\t\t\t\t\tnotif_html += \"<li><a href=\"+ val.url +\"><strong>\"+ val.subject +\"</strong><br>\"+ val.content +\"<br><span class='small'><i class='fa fa-clock'></i><time class='timeago' datetime='\"+ val.created_at +\"'>\"+ val.created_at +\"</time></span></a></li>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tnotif_html += \"<li><a href='javsacript:void(0)'><strong>\"+ val.subject +\"</strong><br>\"+ val.content +\"<br><span class='small'><i class='fa fa-clock'></i><time class='timeago' datetime='\"+ val.created_at +\"'>\"+ val.created_at +\"</time></span></a></li>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$('.notification-holder').html(notif_html);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// setInterval(function() {\r\n\t\t// \t$.get('/notification/api', function(data) {\r\n\t\t// \t\tnotif_data = data;\r\n        //\r\n\t\t// \t\tif (notif_num != notif_data.length) {\r\n\t\t// \t\t\tnotif_num = notif_data.length;\r\n        //\r\n\t\t// \t\t\tif (notif_num > 0) {\r\n\t\t// \t\t\t\tvar notif_html = \"<li class='notification-title'><strong>Notifications</strong><span class='text-underline pull-right text-warning mark-as-read' onClick='readAll()'>Mark all as read</span></li>\";\r\n        //\r\n\t\t// \t\t\t\t$('.notification-icon').html(\"<span class='badge'>\"+ notif_data.length +\"</span>\");\r\n        //\r\n\t\t// \t\t\t\t$.each(notif_data, function(key, val) {\r\n\t\t// \t\t\t\t\tif (val.url != \"\") {\r\n\t\t// \t\t\t\t\t\tnotif_html += \"<li><a href=\"+ val.url +\"><strong>\"+ val.subject +\"</strong><br>\"+ val.content +\"<br><span class='small'><i class='fa fa-clock'></i><time class='timeago' datetime='\"+ val.created_at +\"'>\"+ val.created_at +\"</time></span></a></li>\";\r\n\t\t// \t\t\t\t\t}\r\n\t\t// \t\t\t\t\telse {\r\n\t\t// \t\t\t\t\t\tnotif_html += \"<li><a href='javsacript:void(0)'><strong>\"+ val.subject +\"</strong><br>\"+ val.content +\"<br><span class='small'><i class='fa fa-clock'></i><time class='timeago' datetime='\"+ val.created_at +\"'>\"+ val.created_at +\"</time></span></a></li>\";\r\n\t\t// \t\t\t\t\t}\r\n\t\t// \t\t\t\t});\r\n        //\r\n\t\t// \t\t\t\t$('.notification-holder').html(notif_html);\r\n\t\t// \t\t\t}\r\n\t\t// \t\t}\r\n\t\t// \t});\r\n\t\t// }, 5000);\r\n\r\n        $.get('/message/unread', function(data) {\r\n            var unread = data.unread;\r\n\r\n            if (unread > 0) {\r\n                $('#message-icon').text(unread).addClass('text-danger');\r\n            }\r\n        });\r\n\r\n        // setInterval(function() {\r\n        //     $.get('/message/unread', function(data) {\r\n        //         var unread = data.unread;\r\n        //\r\n        //         if (unread > 0) {\r\n        //             $('#message-icon').text(unread).addClass('text-danger');\r\n        //         }\r\n        //         else {\r\n        //             $('#message-icon').text('').removeClass('text-danger');\r\n        //         }\r\n        //     });\r\n        // }, 5000);\r\n\t}\r\n    $('.messages').animate({ scrollTop: $('.messages').prop('scrollHeight') }, \"slow\");\r\n\r\n    $('#sendMessageForm button').on('click', function(e) {\r\n        var sendMessageForm = $('#sendMessageForm');\r\n        var content = $('[name=\"content\"]', sendMessageForm).val();\r\n        var to_id = $('[name=\"to_id\"]', sendMessageForm).val();\r\n\r\n        $.post('/message/send', { content: content, to_id: to_id } , function(data) {\r\n            if (data.status == 'success') {\r\n                var message = '<div class=\"message-bit\" id=\"message-'+ data.id +'\">';\r\n                message += '    <div class=\"row\">';\r\n                message += '        <div class=\"col-sm-12\">';\r\n                message += '            <p class=\"pull-left\">';\r\n                message += '                <a href=\"/user/'+ data.username +'\">'+ data.name +'</a>';\r\n                message += '            </p>';\r\n                message += '            <p class=\"pull-right text-muted small margin-md-right\">';\r\n                message += '                <i class=\"fa fa-clock-o\" data-toggle=\"tooltip\" title=\"'+ data.created_at +'\"></i> '+  data.timeago;\r\n                message += '            </p>';\r\n                message += '        </div>';\r\n                message += '    </div>';\r\n                message += '    <div class=\"row\">';\r\n                message += '        <div class=\"col-sm-12\">';\r\n                message += data.content;\r\n                message += '        </div>';\r\n                message += '    </div>';\r\n                message += '</div>';\r\n                $('.messages').append(message);\r\n                $('.messages').animate({ scrollTop: $('.messages').prop('scrollHeight') }, \"slow\");\r\n            }\r\n\r\n            $('[name=\"content\"]', sendMessageForm).val('');\r\n        });\r\n    });\r\n\r\n    $('#attendanceProfileModal').on('show.bs.modal', function(e) {\r\n        var user_id = $(e.relatedTarget).data('user-id');\r\n        var name =  $(e.relatedTarget).data('name');\r\n        var photo =  $(e.relatedTarget).data('photo');\r\n\r\n        $('#profile-name').html(ucwords(name));\r\n\r\n        var photo_src = '/img/photos/'+ photo;\r\n        if (photo == '') {\r\n            photo_src = 'http://placehold.it/200x250';\r\n        }\r\n\r\n        $.get('/attendance/profile/'+ user_id, function(data) {\r\n            var profile_html = '<li><strong>Absents:</strong> '+ data.absents +'</li>';\r\n            profile_html += '<li><strong>Presents:</strong> '+ data.presents +'</li>';\r\n            profile_html += '<li><strong>Lates:</strong> '+ data.lates +'</li>';\r\n            $('#attendance-profile').html(profile_html);\r\n        });\r\n\r\n        $('#profile-photo').prop('src', photo_src);\r\n\r\n        $('[data-toggle=\"data\"]', this).bootstrapTable({\r\n            url: '/attendance/api?student_id='+ user_id,\r\n            columns: [{\r\n                title: 'Status',\r\n                formatter: 'attendanceStatusFormatter',\r\n                align: 'center',\r\n                sortable: true\r\n            }, {\r\n                title: 'Date',\r\n                field: 'created_at',\r\n                sortable: true\r\n            }]\r\n        });\r\n    });\r\n\r\n    $('#addAssessmentForm #add').on('click', function(e) {\r\n        e.preventDefault();\r\n        $('.assessment-message-container').html('');\r\n        var form = $('#addAssessmentForm');\r\n        var form_data = {\r\n            class_subject_id: $('[name=\"class_subject_id\"]', form).val(),\r\n            score: $('[name=\"score\"]', form).val(),\r\n            total: $('[name=\"total\"]', form).val(),\r\n            date: $('[name=\"date\"]', form).val(),\r\n            assessment_category_id: $('[name=\"assessment_category_id\"]', form).val(),\r\n            source: $('[name=\"source\"]', form).val(),\r\n            other: $('[name=\"other\"]', form).val(),\r\n            quarter: $('[name=\"quarter\"]', form).val(),\r\n            recorded: $('[name=\"recorded\"]:checked', form).val(),\r\n            students: $('[name=\"students[]\"]', form).map(function(){return $(this).val();}).get()\r\n        };\r\n\r\n        $.post('/assessment/add', form_data, function(data) {\r\n            if (data.status == 'success') {\r\n                var msg = '<div class=\"alert alert-success\">';\r\n                msg += '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>';\r\n                msg += '<p>'+ data.msg +'</p>';\r\n                msg += '</div>';\r\n\r\n                $('.assessment-message-container').html(msg);\r\n                $('#assessments-tab table').bootstrapTable('refresh');\r\n                $('[name=\"score\"]', form).val('');\r\n                $('[name=\"total\"]', form).val('');\r\n            }\r\n        }).fail(function(data) {\r\n            var msg = '<div class=\"alert alert-danger\">';\r\n            msg += '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>';\r\n            $.each(data.responseJSON, function(key, value) {\r\n                msg += '<p>'+ value +'</p>';\r\n            });\r\n\r\n            msg += '</div>';\r\n\r\n            $('.assessment-message-container').html(msg);\r\n        });\r\n\r\n        return false;\r\n    });\r\n\r\n    $('[data-toggle=\"wysiwyg\"]').summernote();\r\n    $('#viewCreateLessonModal').on('show.bs.modal', function(e) {\r\n        $('[data-toggle=\"wysiwyg\"]').summernote();\r\n    });\r\n\r\n    $('#addAchievementStudent').on('show.bs.modal', function(e) {\r\n        var student_id = $(e.relatedTarget).data('student-id');\r\n        $('[name=\"student_id\"]').val(student_id);\r\n    });\r\n});\r\n\r\nfunction readAll() {\r\n\t$.get('/notification/readall', function() {\r\n\t\tvar notif_html = \"<li class='notification-title'><strong>Notifications</strong><span class='text-underline pull-right text-warning mark-as-read' onClick='readAll()'>Mark all as read</span></li>\";\r\n\r\n\t\t$('.notification-holder').html(notif_html);\r\n\t\t$('.notification-icon').html(\"\");\r\n\t});\r\n}\r\n\r\nfunction submitAttendance(status, user_id) {\r\n\tvar date = $('#attendance [name=\"date\"]').val();\r\n\tvar class_subject_id = $('#attendance [name=\"class_subject_id\"]').val();\r\n\r\n\tif (date == '') {\r\n\t\talert('Date is required.');\r\n\t\treturn;\r\n\t}\r\n\r\n\t$.post('/attendance/add', { status: status, user_id: user_id, date: date, class_subject_id: class_subject_id }, function(data) {\r\n\t\t$('.attendance-'+ user_id + ' .img-thumbnail')\r\n\t\t\t.removeClass('bg-danger')\r\n\t\t\t.removeClass('bg-warning')\r\n\t\t\t.removeClass('bg-success');\r\n\r\n\t\tswitch (status) {\r\n\t\t\tcase 0:\r\n\t\t\t\t$('.attendance-'+ user_id + ' .img-thumbnail').addClass('bg-danger');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\t$('.attendance-'+ user_id + ' .img-thumbnail').addClass('bg-success');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\t$('.attendance-'+ user_id + ' .img-thumbnail').addClass('bg-warning');\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\t$('#attendance-tab table').bootstrapTable('refresh');\r\n\t});\r\n}\r\n\r\nfunction submitAnswer(timer, exam_question_id, class_subject_exam_id, category, class_subject_id) {\r\n\tclearInterval(question_duration);\r\n\r\n\tvar $answer = '';\r\n\r\n\tif (category == 'multiplechoice' || category == 'trueorfalse') {\r\n\t\t$answer = $('[name=\"answer\"]:checked').val();\r\n\t}\r\n\r\n\tif (category == 'identification' || category == 'essay') {\r\n\t\t$answer = $('[name=\"answer\"]').val();\r\n\t}\r\n\r\n    if (category == 'fillintheblank') {\r\n        $answer = $('[name=\"answer[]\"]').map(function(){return $(this).val();}).get();\r\n    }\r\n\r\n\t$.post('/class/subject/exam/answer', { answer: $answer, timer: timer, exam_question_id: exam_question_id, class_subject_exam_id: class_subject_exam_id, class_subject_id: class_subject_id }, function(res) {\r\n\t\t$('#start-exam').click();\r\n\t});\r\n}\r\n\r\nfunction getExamGrade(exam_id) {\r\n\tvar $block = $('#exam-question-block');\r\n\r\n\t$.get('/class/subject/exam/grade/'+ exam_id, function(data) {\r\n\t\t$block.html(\"<h3 class='text-center'>Your grade</h3><h2 class='text-center'>\"+ data.score +\" / \"+ data.total +\" <small>\"+ Math.round((data.score/data.total)*100) +\"%</small></h2>\");\r\n\t});\r\n}\r\n\r\nfunction getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nfunction usernameFormatter(value, row) {\r\n\treturn \"<a href='/user/\"+ row.id +\"'>\"+ row.username +\"</a>\";\r\n}\r\n\r\nfunction fullNameFormatter(value, row) {\r\n\treturn \"<a href='/user/\"+ row.user_id +\"'>\"+ row.full_name +\"</a>\";\r\n}\r\n\r\nfunction actionSchoolMemberFormatter(value, row) {\r\n\treturn [\"<a href='/school/member/delete/\"+ row.id +\"' class='btn btn-default btn-xs' onclick='return confirm(\\\"Are you sure you want to delete this school member?\\\")'><i class='fa fa-remove'></i></a>\"].join(\" \");\r\n}\r\n\r\nfunction subjectFormatter(value, row) {\r\n\treturn [\"[\", row.code, \"] \", row.name, \" - \", row.description].join(\" \");\r\n}\r\n\r\nfunction actionUpdateClassSectionFormatter(value, row) {\r\n\treturn [\"<a href='/class/section/edit/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Edit'><i class='fa fa-pencil'></i></a>\",\r\n\t\t\t\"<a href='/class/section/view/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='View'><i class='fa fa-eye'></i></a>\"].join(\" \");\r\n}\r\n\r\nfunction actionClassSectionFormatter(value, row) {\r\n\treturn [\"<a href='/class/student/delete/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Delete' onclick='return confirm(\\\"Are you sure you want to delete this item?\\\")'><i class='fa fa-remove'></i></a>\",].join(\" \");\r\n}\r\n\r\nfunction userProfile(value, row) {\r\n\treturn \"<a href='/user/\"+ row.username +\"'>\"+ row.name +\"</a>\";\r\n}\r\n\r\nfunction actionClassSubjectFormatter(value, row) {\r\n\treturn [\"<a href='/class/subject/edit/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Edit'><i class='fa fa-pencil'></i></a>\",\r\n\t\t\t\"<a href='/class/subject/delete/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Delete' onclick='return confirm(\\\"Are you sure you want to delete this item?\\\")'><i class='fa fa-remove'></i></a>\",\r\n\t\t\t\"<a href='/class/subject/view/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='View'><i class='fa fa-eye'></i></a>\"].join(\" \");\r\n}\r\n\r\nfunction actionClassSubjectScheduleFormatter(value, row) {\r\n\treturn [\"<a href='/class/subject/schedule/edit/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Edit'><i class='fa fa-pencil'></i></a>\",\r\n\t\t\t\"<a href='/class/subject/schedule/delete/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Delete' onclick='return confirm(\\\"Are you sure you want to delete this item?\\\")'><i class='fa fa-remove'></i></a>\"].join(\" \");\r\n}\r\n\r\nfunction actionLessonFormatter(value, row) {\r\n\tvar user_id = $('[name=\"user_id\"]').val();\r\n\tvar group_name = $('[name=\"group_name\"]').val();\r\n\r\n\tif (row.posted_by != user_id && group_name == 'teacher')\r\n\t{\r\n\t\treturn \"<a href='/lesson/view/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='View'><i class='fa fa-eye'></i></a>\";\r\n\t}\r\n\r\n\treturn [\"<a href='/lesson/edit/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Edit'><i class='fa fa-pencil'></i></a>\",\r\n\t\t\t\"<a href='/lesson/delete/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Delete' onclick='return confirm(\\\"Are you sure you want to delete this item? All of its file will be deleted.\\\")'><i class='fa fa-remove'></i></a>\",\r\n\t\t\t\"<a href='/lesson/view/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='View'><i class='fa fa-eye'></i></a>\"].join(\" \");\r\n}\r\n\r\nfunction classSubjectNameFormatter(value, row) {\r\n\treturn \"<a href='/class/subject/view/\"+ row.id +\"'>\"+ row.subject.name +\"</a>\";\r\n}\r\n\r\nfunction actionClassSubjectLessonFormatter(value, row) {\r\n\treturn [\"<a href='/class/subject/lesson/delete/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Delete' onclick='return confirm(\\\"Are you sure you want to delete this item?\\\")'><i class='fa fa-remove'></i></a>\",\r\n\t\t\t\"<a href='/lesson/view/\"+ row.lesson_id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='View'><i class='fa fa-eye'></i></a>\"].join(\" \");\r\n}\r\n\r\nfunction actionSchoolCodeFormatter(value, row) {\r\n\treturn [\r\n\t\t\"<a href='/school/code/delete/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Delete' onclick='return confirm(\\\"Are you sure you want to delete this item?\\\")'><i class='fa fa-remove'></i></a>\"\r\n\t].join(\" \");\r\n}\r\n\r\nfunction actionClassCodeFormatter(value, row) {\r\n\treturn [\r\n\t\t\"<a href='/class/section/code/delete/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Delete' onclick='return confirm(\\\"Are you sure you want to delete this item?\\\")'><i class='fa fa-remove'></i></a>\"\r\n\t].join(\" \");\r\n}\r\n\r\nfunction lessonFormatter(value, row) {\r\n\treturn \"<a href='/lesson/view/\"+ row.lesson_id +\"'>\"+ row.title +\"</a>\";\r\n}\r\n\r\nfunction actionExamQuestionFormatter(value, row) {\r\n\treturn [\"<a href='/exam/question/edit/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Edit'><i class='fa fa-pencil'></i></a>\",\r\n\t\t\t\"<a href='/exam/question/delete/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Delete' onclick='return confirm(\\\"Are you sure you want to delete this item?\\\")'><i class='fa fa-remove'></i></a>\",\r\n\t\t\t\"<a href='/exam/question/view/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='View'><i class='fa fa-eye'></i></a>\"].join(\" \");\r\n}\r\n\r\n\r\nfunction actionExamQuestionViewFormatter(value, row) {\r\n\treturn [\"<a href='/exam/question/view/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='View'><i class='fa fa-eye'></i></a>\"].join(\" \");\r\n}\r\n\r\nfunction actionExamQuestionAnswerFormatter(value, row) {\r\n\treturn [\"<a href='/exam/question/answer/edit/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Edit'><i class='fa fa-pencil'></i></a>\",\r\n\t\t\t\"<a href='/exam/question/answer/delete/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Delete' onclick='return confirm(\\\"Are you sure you want to delete this item?\\\")'><i class='fa fa-remove'></i></a>\"].join(\" \");\r\n}\r\n\r\nfunction actionExamFormatter(value, row) {\r\n\treturn [\"<a href='/exam/edit/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Edit'><i class='fa fa-pencil'></i></a>\",\r\n\t\t\t\"<a href='/exam/delete/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Delete' onclick='return confirm(\\\"Are you sure you want to delete this item?\\\")'><i class='fa fa-remove'></i></a>\",\r\n\t\t\t\"<a href='/exam/view/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='View'><i class='fa fa-eye'></i></a>\"].join(\" \");\r\n}\r\n\r\nfunction actionClassSubjectExamFormatter(value, row) {\r\n\treturn [\"<a href='/class/subject/exam/edit/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Edit'><i class='fa fa-pencil'></i></a>\",\r\n            \"<a href='/class/subject/exam/delete/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Delete' onclick='return confirm(\\\"Are you sure you want to delete this item?\\\")'><i class='fa fa-remove'></i></a>\",\r\n\t\t\t\"<a href='/class/subject/exam/view/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='View'><i class='fa fa-eye'></i></a>\"].join(\" \");\r\n}\r\n\r\nfunction actionClassSubjectExamUserFormatter(value, row) {\r\n\treturn [\"<a href='/class/subject/exam/user/delete/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Delete' onclick='return confirm(\\\"Are you sure you want to delete this item?\\\")'><i class='fa fa-remove'></i></a>\"].join(\" \");\r\n}\r\n\r\nfunction actionMyClassFormatter(value, row) {\r\n\treturn \"<a href='/class/subject/view/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='View'><i class='fa fa-eye'></i></a>\";\r\n}\r\n\r\nfunction actionClassSubjectStudentFormatter(value, row) {\r\n    return [\"<a href='#addAchievementStudent' data-student-id='\"+ row.student_id +\"' data-toggle='modal' class='btn btn-default btn-xs tooltips' title='Add Achievement'><i class='fa fa-trophy'></i></a>\"].join(\" \");\r\n}\r\n\r\nfunction actionClassSubjectAssessmentFormatter(value, row) {\r\n\treturn [\"<a href='/assessment/delete/\"+ row.id +\"' class='btn btn-default btn-xs' data-toggle='tooltip' title='Delete' onclick='return confirm(\\\"Are you sure you want to delete this item?\\\")'><i class='fa fa-remove'></i></a>\"].join(\" \");\r\n}\r\n\r\nfunction actionClassSubjectStudentsFormatter(value, row) {\r\n    return \"\";\r\n}\r\n\r\nfunction attendanceStudentProfileFormatter(value, row) {\r\n    var photo = '';\r\n    if (row.student.profile.photo) {\r\n        photo = row.student.profile.photo;\r\n    }\r\n\r\n    return '<a href=\"#attendanceProfileModal\" data-photo=\"'+ photo +'\" data-user-id=\"'+ row.student_id +'\" data-name=\"'+ row.student.profile.first_name +' '+ row.student.profile.last_name +'\" class=\"btn btn-default btn-xs\" title=\"View Attendance Profile\" data-toggle=\"modal\"><i class=\"fa fa-eye\"></i></a>';\r\n}\r\n\r\nfunction statusFormatter(value, row) {\r\n\tif (row.status == 1) {\r\n\t\treturn \"<span class='text-success'>Active</span>\";\r\n\t} else {\r\n\t\treturn \"<span class='text-muted'>Inactive</span>\";\r\n\t}\r\n}\r\n\r\nfunction examTakeExamTitleFormatter(value, row) {\r\n\treturn \"<a href='/class/subject/exam/take/\"+ row.class_subject_exam.id +\"'>\"+ row.title +\"</a>\";\r\n}\r\n\r\nfunction takeExamTitleFormatter(value, row) {\r\n\treturn \"<a href='/class/subject/exam/take/\"+ row.id +\"'>\"+ row.exam.title +\"</a>\";\r\n}\r\n\r\nfunction lessonTitleFormatter(value, row) {\r\n\treturn \"<a href='/lesson/view/\"+ row.lesson.id +\"'>\"+ row.lesson.title +\"</a>\";\r\n}\r\n\r\nfunction subjectNameFormatter(value, row) {\r\n\treturn '['+ row.subject.code +'] '+ row.subject.name;\r\n}\r\n\r\nfunction profileNameFormatter(value, row) {\r\n\tvar name = ucwords(row.profile.last_name +', '+ row.profile.first_name);\r\n\treturn '<a href=\"/user/'+ row.username +'\">'+ name +'</a>';\r\n}\r\n\r\nfunction fromProfileNameFormatter(value, row) {\r\n\tvar name = ucwords(row.from.profile.last_name +', '+ row.from.profile.first_name);\r\n\treturn '<a href=\"/user/'+ row.from.username +'\">'+ name +'</a>';\r\n}\r\n\r\nfunction userProfileNameFormatter(value, row) {\r\n\tvar name = ucwords(row.user.profile.last_name +', '+ row.user.profile.first_name);\r\n\treturn '<a href=\"/user/'+ row.user.username +'\">'+ name +'</a>';\r\n}\r\n\r\nfunction teacherProfileNameFormatter(value, row) {\r\n\tvar name = ucwords(row.teacher.profile.last_name) +', '+ ucwords(row.teacher.profile.first_name);\r\n\treturn '<a href=\"/user/'+ row.teacher.username +'\">'+ name +'</a>';\r\n}\r\n\r\nfunction studentProfileNameFormatter(value, row) {\r\n\tvar name = ucwords(row.student.profile.last_name) +', '+ ucwords(row.student.profile.first_name);\r\n\treturn '<a href=\"/user/'+ row.student.username +'\">'+ name +'</a>';\r\n}\r\n\r\nfunction classStudentProfileNameFormatter(value, row) {\r\n\tvar name = ucwords(row.class_student.student.profile.last_name) +', '+ ucwords(row.class_student.student.profile.first_name);\r\n\treturn '<a href=\"/user/'+ row.class_student.student.username +'\">'+ name +'</a>';\r\n}\r\n\r\nfunction studentProfileGenderFormatter(value, row) {\r\n\tif (row.student.profile.gender == 1) {\r\n\t\treturn 'Male';\r\n\t}\r\n\telse {\r\n\t\treturn 'Female';\r\n\t}\r\n}\r\n\r\nfunction profileGenderFormatter(value, row) {\r\n\tif (row.profile.gender == 1) {\r\n\t\treturn 'Male';\r\n\t}\r\n\telse {\r\n\t\treturn 'Female';\r\n\t}\r\n}\r\n\r\nfunction remarksFormatter(value, row) {\r\n    return remarks[row.remarks];\r\n}\r\n\r\nfunction schoolYearFormatter(value, row) {\r\n\treturn row.year +' - '+ (parseInt(row.year)+1);\r\n}\r\n\r\nfunction dayFormatter(value, row) {\r\n\treturn days[row.day];\r\n}\r\n\r\nfunction gradeLevelFormatter(value, row) {\r\n\treturn gradeLevels[row.level];\r\n}\r\n\r\nfunction ucwords(str) {\r\n    return (str + '').replace(/^([a-z])|\\s+([a-z])/g, function ($1) {\r\n        return $1.toUpperCase();\r\n    });\r\n}\r\n\r\nfunction assessmentGradeFormatter(value, row) {\r\n\treturn  row.score +\"/\"+ row.total +\" (\"+ Math.round((row.score / row.total) * 100) +\"%)\";\r\n}\r\n\r\nfunction assessedProfileNameFormatter(value, row) {\r\n\tvar name = ucwords(row.assessed.profile.first_name) +' '+ ucwords(row.assessed.profile.last_name);\r\n\treturn '<a href=\"/user/'+ row.assessed.username +'\">'+ name +'</a>';\r\n}\r\n\r\nfunction classSectionNameFormatter(value, row) {\r\n\treturn \"[\"+ gradeLevels[row.class_section.level] + \"] \"+ row.class_section.name;\r\n}\r\n\r\nfunction attendanceStatusFormatter(value, row) {\r\n\tvar status;\r\n\r\n\tswitch (row.status) {\r\n\t\tcase 0:\r\n\t\t\tstatus = \"<i class='fa fa-times text-danger' data-toggle='tooltip' title='Absent'></i> Absent\";\r\n\t\t\tbreak;\r\n\t\tcase 1:\r\n\t\t\tstatus = \"<i class='fa fa-check text-success' data-toggle='tooltip' title='Present'></i> Present\";\r\n\t\t\tbreak;\r\n\t\tcase 2:\r\n\t\t\tstatus = \"<i class='fa fa-exclamation text-warning' data-toggle='tooltip' title='Late'></i> Late\";\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\treturn status;\r\n}\r\n\r\nfunction recordedFormatter(value, row) {\r\n\treturn row.recorded ? 'Yes' : 'No';\r\n}\r\n\r\nfunction assessmentClass(value, row) {\r\n    if (row.class_subject == null) {\r\n        return '['+ row.class_subject_exam.class_subject.subject.code +'] '+ row.class_subject_exam.class_subject.subject.name +' - '+ row.class_subject_exam.class_subject.subject.description;\r\n    } else {\r\n        return '['+ row.class_subject.subject.code +'] '+ row.class_subject.subject.name +' - '+ row.class_subject.subject.description;\r\n    }\r\n}\r\n\r\nfunction classStudentSchoolNameFormatter(value, row) {\r\n\treturn row.class_student.student.school_member.school.name;\r\n}\r\n\r\nfunction assessmentCategoryName(value, row) {\r\n\treturn row.assessment_category.name;\r\n}\r\n\r\nfunction subjectExamGradeFormatter(value, row) {\r\n\tif (row.score == null) {\r\n\t\treturn \"<span class='text-muted'>None</span>\";\r\n\t} else {\r\n\t\treturn row.score +\"/\"+ row.total +\" (\"+ Math.round((row.score / row.total) * 100) +\"%)\";\r\n\t}\r\n}\r\n\r\nfunction classStudentClassSectionTeacherProfileNameFormatter(value, row) {\r\n\tvar name = ucwords(row.class_student.class_section.teacher.profile.last_name +', '+ row.class_student.class_section.teacher.profile.first_name);\r\n\treturn '<a href=\"/user/'+ row.class_student.class_section.teacher.username +'\">'+ name +'</a>';\r\n}\r\n\r\nfunction messageNameFormatter(value, row) {\r\n    \tvar name = ucwords(row.from.profile.last_name +', '+ row.from.profile.first_name);\r\n    \treturn '<a href=\"/m/'+ row.from.username +'\">'+ name +'</a>';\r\n}\r\n\r\nfunction examStatusFormatter(value, row) {\r\n    return examStatuses[row.status];\r\n}\r\n\r\nfunction gradeFormatter(value, row) {\r\n    return Math.round(row.grade);\r\n}\r\n\r\nfunction chartjs(target, url, type) {\r\n    var $this = $(target);\r\n\r\n    $.get(url, function(data) {\r\n        var ctx = $this.get(0).getContext(\"2d\");\r\n        var options = {\r\n            pointHitDetectionRadius: 100\r\n        }\r\n\r\n        if (data.datasets[0].hasOwnProperty('data')) {\r\n            if (type == 'line') {\r\n                new Chart(ctx).Line(data, options);\r\n            } else\r\n            if (type == 'bar') {\r\n                new Chart(ctx).Bar(data, options);\r\n            } else\r\n            if (type == 'radar') {\r\n                new Chart(ctx).Radar(data, options);\r\n            } else\r\n            if (type == 'polararea') {\r\n                new Chart(ctx).PolarArea(data, options);\r\n            } else\r\n            if (type == 'pie') {\r\n                new Chart(ctx).Pie(data, options);\r\n            } else\r\n            if (type == 'doughnut') {\r\n                new Chart(ctx).Doughnut(data, options);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n$(function() {\r\n\r\n    var $this = $('canvas.chartjs:first');\r\n    var url = $this.data('url');\r\n    var type = $this.data('type');\r\n    chartjs($this, url, type);\r\n\r\n    $('#school-stats').ready(function() {\r\n        $this = $('#school-stats');\r\n        var url = $this.data('url');\r\n        var type = $this.data('type');\r\n        chartjs('#school-stats', url, type);\r\n    });\r\n\r\n    $('a[data-toggle=\"tab\"]').on('shown.bs.tab', function(e) {\r\n        var $this = $($(e.target).data('target') +' canvas');\r\n        var url = $this.data('url');\r\n        var type = $this.data('type');\r\n\r\n        chartjs($(e.target).data('target') +' canvas', url, type);\r\n    });\r\n});\r\n","/*!\r\n * Jasny Bootstrap v3.1.3 (http://jasny.github.io/bootstrap)\r\n * Copyright 2012-2014 Arnold Daniels\r\n * Licensed under Apache-2.0 (https://github.com/jasny/bootstrap/blob/master/LICENSE)\r\n */\r\nif(\"undefined\"==typeof jQuery)throw new Error(\"Jasny Bootstrap's JavaScript requires jQuery\");+function(a){\"use strict\";function b(){var a=document.createElement(\"bootstrap\"),b={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",transition:\"transitionend\"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}void 0===a.support.transition&&(a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()}))}(window.jQuery),+function(a){\"use strict\";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.state=null,this.placement=null,this.options.recalc&&(this.calcClone(),a(window).on(\"resize\",a.proxy(this.recalc,this))),this.options.autohide&&a(document).on(\"click\",a.proxy(this.autohide,this)),this.options.toggle&&this.toggle(),this.options.disablescrolling&&(this.options.disableScrolling=this.options.disablescrolling,delete this.options.disablescrolling)};b.DEFAULTS={toggle:!0,placement:\"auto\",autohide:!0,recalc:!0,disableScrolling:!0},b.prototype.offset=function(){switch(this.placement){case\"left\":case\"right\":return this.$element.outerWidth();case\"top\":case\"bottom\":return this.$element.outerHeight()}},b.prototype.calcPlacement=function(){function b(a,b){if(\"auto\"===e.css(b))return a;if(\"auto\"===e.css(a))return b;var c=parseInt(e.css(a),10),d=parseInt(e.css(b),10);return c>d?b:a}if(\"auto\"!==this.options.placement)return void(this.placement=this.options.placement);this.$element.hasClass(\"in\")||this.$element.css(\"visiblity\",\"hidden !important\").addClass(\"in\");var c=a(window).width()/this.$element.width(),d=a(window).height()/this.$element.height(),e=this.$element;this.placement=c>=d?b(\"left\",\"right\"):b(\"top\",\"bottom\"),\"hidden !important\"===this.$element.css(\"visibility\")&&this.$element.removeClass(\"in\").css(\"visiblity\",\"\")},b.prototype.opposite=function(a){switch(a){case\"top\":return\"bottom\";case\"left\":return\"right\";case\"bottom\":return\"top\";case\"right\":return\"left\"}},b.prototype.getCanvasElements=function(){var b=this.options.canvas?a(this.options.canvas):this.$element,c=b.find(\"*\").filter(function(){return\"fixed\"===a(this).css(\"position\")}).not(this.options.exclude);return b.add(c)},b.prototype.slide=function(b,c,d){if(!a.support.transition){var e={};return e[this.placement]=\"+=\"+c,b.animate(e,350,d)}var f=this.placement,g=this.opposite(f);b.each(function(){\"auto\"!==a(this).css(f)&&a(this).css(f,(parseInt(a(this).css(f),10)||0)+c),\"auto\"!==a(this).css(g)&&a(this).css(g,(parseInt(a(this).css(g),10)||0)-c)}),this.$element.one(a.support.transition.end,d).emulateTransitionEnd(350)},b.prototype.disableScrolling=function(){var b=a(\"body\").width(),c=\"padding-\"+this.opposite(this.placement);if(void 0===a(\"body\").data(\"offcanvas-style\")&&a(\"body\").data(\"offcanvas-style\",a(\"body\").attr(\"style\")||\"\"),a(\"body\").css(\"overflow\",\"hidden\"),a(\"body\").width()>b){var d=parseInt(a(\"body\").css(c),10)+a(\"body\").width()-b;setTimeout(function(){a(\"body\").css(c,d)},1)}},b.prototype.show=function(){if(!this.state){var b=a.Event(\"show.bs.offcanvas\");if(this.$element.trigger(b),!b.isDefaultPrevented()){this.state=\"slide-in\",this.calcPlacement();var c=this.getCanvasElements(),d=this.placement,e=this.opposite(d),f=this.offset();-1!==c.index(this.$element)&&(a(this.$element).data(\"offcanvas-style\",a(this.$element).attr(\"style\")||\"\"),this.$element.css(d,-1*f),this.$element.css(d)),c.addClass(\"canvas-sliding\").each(function(){void 0===a(this).data(\"offcanvas-style\")&&a(this).data(\"offcanvas-style\",a(this).attr(\"style\")||\"\"),\"static\"===a(this).css(\"position\")&&a(this).css(\"position\",\"relative\"),\"auto\"!==a(this).css(d)&&\"0px\"!==a(this).css(d)||\"auto\"!==a(this).css(e)&&\"0px\"!==a(this).css(e)||a(this).css(d,0)}),this.options.disableScrolling&&this.disableScrolling();var g=function(){\"slide-in\"==this.state&&(this.state=\"slid\",c.removeClass(\"canvas-sliding\").addClass(\"canvas-slid\"),this.$element.trigger(\"shown.bs.offcanvas\"))};setTimeout(a.proxy(function(){this.$element.addClass(\"in\"),this.slide(c,f,a.proxy(g,this))},this),1)}}},b.prototype.hide=function(){if(\"slid\"===this.state){var b=a.Event(\"hide.bs.offcanvas\");if(this.$element.trigger(b),!b.isDefaultPrevented()){this.state=\"slide-out\";var c=a(\".canvas-slid\"),d=(this.placement,-1*this.offset()),e=function(){\"slide-out\"==this.state&&(this.state=null,this.placement=null,this.$element.removeClass(\"in\"),c.removeClass(\"canvas-sliding\"),c.add(this.$element).add(\"body\").each(function(){a(this).attr(\"style\",a(this).data(\"offcanvas-style\")).removeData(\"offcanvas-style\")}),this.$element.trigger(\"hidden.bs.offcanvas\"))};c.removeClass(\"canvas-slid\").addClass(\"canvas-sliding\"),setTimeout(a.proxy(function(){this.slide(c,d,a.proxy(e,this))},this),1)}}},b.prototype.toggle=function(){\"slide-in\"!==this.state&&\"slide-out\"!==this.state&&this[\"slid\"===this.state?\"hide\":\"show\"]()},b.prototype.calcClone=function(){this.$calcClone=this.$element.clone().html(\"\").addClass(\"offcanvas-clone\").removeClass(\"in\").appendTo(a(\"body\"))},b.prototype.recalc=function(){if(\"none\"!==this.$calcClone.css(\"display\")&&(\"slid\"===this.state||\"slide-in\"===this.state)){this.state=null,this.placement=null;var b=this.getCanvasElements();this.$element.removeClass(\"in\"),b.removeClass(\"canvas-slid\"),b.add(this.$element).add(\"body\").each(function(){a(this).attr(\"style\",a(this).data(\"offcanvas-style\")).removeData(\"offcanvas-style\")})}},b.prototype.autohide=function(b){0===a(b.target).closest(this.$element).length&&this.hide()};var c=a.fn.offcanvas;a.fn.offcanvas=function(c){return this.each(function(){var d=a(this),e=d.data(\"bs.offcanvas\"),f=a.extend({},b.DEFAULTS,d.data(),\"object\"==typeof c&&c);e||d.data(\"bs.offcanvas\",e=new b(this,f)),\"string\"==typeof c&&e[c]()})},a.fn.offcanvas.Constructor=b,a.fn.offcanvas.noConflict=function(){return a.fn.offcanvas=c,this},a(document).on(\"click.bs.offcanvas.data-api\",\"[data-toggle=offcanvas]\",function(b){var c,d=a(this),e=d.attr(\"data-target\")||b.preventDefault()||(c=d.attr(\"href\"))&&c.replace(/.*(?=#[^\\s]+$)/,\"\"),f=a(e),g=f.data(\"bs.offcanvas\"),h=g?\"toggle\":d.data();b.stopPropagation(),g?g.toggle():f.offcanvas(h)})}(window.jQuery),+function(a){\"use strict\";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.$element.on(\"click.bs.rowlink\",\"td:not(.rowlink-skip)\",a.proxy(this.click,this))};b.DEFAULTS={target:\"a\"},b.prototype.click=function(b){var c=a(b.currentTarget).closest(\"tr\").find(this.options.target)[0];if(a(b.target)[0]!==c)if(b.preventDefault(),c.click)c.click();else if(document.createEvent){var d=document.createEvent(\"MouseEvents\");d.initMouseEvent(\"click\",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(d)}};var c=a.fn.rowlink;a.fn.rowlink=function(c){return this.each(function(){var d=a(this),e=d.data(\"bs.rowlink\");e||d.data(\"bs.rowlink\",e=new b(this,c))})},a.fn.rowlink.Constructor=b,a.fn.rowlink.noConflict=function(){return a.fn.rowlink=c,this},a(document).on(\"click.bs.rowlink.data-api\",'[data-link=\"row\"]',function(b){if(0===a(b.target).closest(\".rowlink-skip\").length){var c=a(this);c.data(\"bs.rowlink\")||(c.rowlink(c.data()),a(b.target).trigger(\"click.bs.rowlink\"))}})}(window.jQuery),+function(a){\"use strict\";var b=void 0!==window.orientation,c=navigator.userAgent.toLowerCase().indexOf(\"android\")>-1,d=\"Microsoft Internet Explorer\"==window.navigator.appName,e=function(b,d){c||(this.$element=a(b),this.options=a.extend({},e.DEFAULTS,d),this.mask=String(this.options.mask),this.init(),this.listen(),this.checkVal())};e.DEFAULTS={mask:\"\",placeholder:\"_\",definitions:{9:\"[0-9]\",a:\"[A-Za-z]\",w:\"[A-Za-z0-9]\",\"*\":\".\"}},e.prototype.init=function(){var b=this.options.definitions,c=this.mask.length;this.tests=[],this.partialPosition=this.mask.length,this.firstNonMaskPos=null,a.each(this.mask.split(\"\"),a.proxy(function(a,d){\"?\"==d?(c--,this.partialPosition=a):b[d]?(this.tests.push(new RegExp(b[d])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1)):this.tests.push(null)},this)),this.buffer=a.map(this.mask.split(\"\"),a.proxy(function(a){return\"?\"!=a?b[a]?this.options.placeholder:a:void 0},this)),this.focusText=this.$element.val(),this.$element.data(\"rawMaskFn\",a.proxy(function(){return a.map(this.buffer,function(a,b){return this.tests[b]&&a!=this.options.placeholder?a:null}).join(\"\")},this))},e.prototype.listen=function(){if(!this.$element.attr(\"readonly\")){var b=(d?\"paste\":\"input\")+\".mask\";this.$element.on(\"unmask.bs.inputmask\",a.proxy(this.unmask,this)).on(\"focus.bs.inputmask\",a.proxy(this.focusEvent,this)).on(\"blur.bs.inputmask\",a.proxy(this.blurEvent,this)).on(\"keydown.bs.inputmask\",a.proxy(this.keydownEvent,this)).on(\"keypress.bs.inputmask\",a.proxy(this.keypressEvent,this)).on(b,a.proxy(this.pasteEvent,this))}},e.prototype.caret=function(a,b){if(0!==this.$element.length){if(\"number\"==typeof a)return b=\"number\"==typeof b?b:a,this.$element.each(function(){if(this.setSelectionRange)this.setSelectionRange(a,b);else if(this.createTextRange){var c=this.createTextRange();c.collapse(!0),c.moveEnd(\"character\",b),c.moveStart(\"character\",a),c.select()}});if(this.$element[0].setSelectionRange)a=this.$element[0].selectionStart,b=this.$element[0].selectionEnd;else if(document.selection&&document.selection.createRange){var c=document.selection.createRange();a=0-c.duplicate().moveStart(\"character\",-1e5),b=a+c.text.length}return{begin:a,end:b}}},e.prototype.seekNext=function(a){for(var b=this.mask.length;++a<=b&&!this.tests[a];);return a},e.prototype.seekPrev=function(a){for(;--a>=0&&!this.tests[a];);return a},e.prototype.shiftL=function(a,b){var c=this.mask.length;if(!(0>a)){for(var d=a,e=this.seekNext(b);c>d;d++)if(this.tests[d]){if(!(c>e&&this.tests[d].test(this.buffer[e])))break;this.buffer[d]=this.buffer[e],this.buffer[e]=this.options.placeholder,e=this.seekNext(e)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,a))}},e.prototype.shiftR=function(a){for(var b=this.mask.length,c=a,d=this.options.placeholder;b>c;c++)if(this.tests[c]){var e=this.seekNext(c),f=this.buffer[c];if(this.buffer[c]=d,!(b>e&&this.tests[e].test(f)))break;d=f}},e.prototype.unmask=function(){this.$element.unbind(\".mask\").removeData(\"inputmask\")},e.prototype.focusEvent=function(){this.focusText=this.$element.val();var a=this.mask.length,b=this.checkVal();this.writeBuffer();var c=this,d=function(){b==a?c.caret(0,b):c.caret(b)};d(),setTimeout(d,50)},e.prototype.blurEvent=function(){this.checkVal(),this.$element.val()!==this.focusText&&this.$element.trigger(\"change\")},e.prototype.keydownEvent=function(a){var c=a.which;if(8==c||46==c||b&&127==c){var d=this.caret(),e=d.begin,f=d.end;return f-e===0&&(e=46!=c?this.seekPrev(e):f=this.seekNext(e-1),f=46==c?this.seekNext(f):f),this.clearBuffer(e,f),this.shiftL(e,f-1),!1}return 27==c?(this.$element.val(this.focusText),this.caret(0,this.checkVal()),!1):void 0},e.prototype.keypressEvent=function(a){var b=this.mask.length,c=a.which,d=this.caret();if(a.ctrlKey||a.altKey||a.metaKey||32>c)return!0;if(c){d.end-d.begin!==0&&(this.clearBuffer(d.begin,d.end),this.shiftL(d.begin,d.end-1));var e=this.seekNext(d.begin-1);if(b>e){var f=String.fromCharCode(c);if(this.tests[e].test(f)){this.shiftR(e),this.buffer[e]=f,this.writeBuffer();var g=this.seekNext(e);this.caret(g)}}return!1}},e.prototype.pasteEvent=function(){var a=this;setTimeout(function(){a.caret(a.checkVal(!0))},0)},e.prototype.clearBuffer=function(a,b){for(var c=this.mask.length,d=a;b>d&&c>d;d++)this.tests[d]&&(this.buffer[d]=this.options.placeholder)},e.prototype.writeBuffer=function(){return this.$element.val(this.buffer.join(\"\")).val()},e.prototype.checkVal=function(a){for(var b=this.mask.length,c=this.$element.val(),d=-1,e=0,f=0;b>e;e++)if(this.tests[e]){for(this.buffer[e]=this.options.placeholder;f++<c.length;){var g=c.charAt(f-1);if(this.tests[e].test(g)){this.buffer[e]=g,d=e;break}}if(f>c.length)break}else this.buffer[e]==c.charAt(f)&&e!=this.partialPosition&&(f++,d=e);return!a&&d+1<this.partialPosition?(this.$element.val(\"\"),this.clearBuffer(0,b)):(a||d+1>=this.partialPosition)&&(this.writeBuffer(),a||this.$element.val(this.$element.val().substring(0,d+1))),this.partialPosition?e:this.firstNonMaskPos};var f=a.fn.inputmask;a.fn.inputmask=function(b){return this.each(function(){var c=a(this),d=c.data(\"bs.inputmask\");d||c.data(\"bs.inputmask\",d=new e(this,b))})},a.fn.inputmask.Constructor=e,a.fn.inputmask.noConflict=function(){return a.fn.inputmask=f,this},a(document).on(\"focus.bs.inputmask.data-api\",\"[data-mask]\",function(){var b=a(this);b.data(\"bs.inputmask\")||b.inputmask(b.data())})}(window.jQuery),+function(a){\"use strict\";var b=\"Microsoft Internet Explorer\"==window.navigator.appName,c=function(b,c){if(this.$element=a(b),this.$input=this.$element.find(\":file\"),0!==this.$input.length){this.name=this.$input.attr(\"name\")||c.name,this.$hidden=this.$element.find('input[type=hidden][name=\"'+this.name+'\"]'),0===this.$hidden.length&&(this.$hidden=a('<input type=\"hidden\">').insertBefore(this.$input)),this.$preview=this.$element.find(\".fileinput-preview\");var d=this.$preview.css(\"height\");\"inline\"!==this.$preview.css(\"display\")&&\"0px\"!==d&&\"none\"!==d&&this.$preview.css(\"line-height\",d),this.original={exists:this.$element.hasClass(\"fileinput-exists\"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.listen()}};c.prototype.listen=function(){this.$input.on(\"change.bs.fileinput\",a.proxy(this.change,this)),a(this.$input[0].form).on(\"reset.bs.fileinput\",a.proxy(this.reset,this)),this.$element.find('[data-trigger=\"fileinput\"]').on(\"click.bs.fileinput\",a.proxy(this.trigger,this)),this.$element.find('[data-dismiss=\"fileinput\"]').on(\"click.bs.fileinput\",a.proxy(this.clear,this))},c.prototype.change=function(b){var c=void 0===b.target.files?b.target&&b.target.value?[{name:b.target.value.replace(/^.+\\\\/,\"\")}]:[]:b.target.files;if(b.stopPropagation(),0===c.length)return void this.clear();this.$hidden.val(\"\"),this.$hidden.attr(\"name\",\"\"),this.$input.attr(\"name\",this.name);var d=c[0];if(this.$preview.length>0&&(\"undefined\"!=typeof d.type?d.type.match(/^image\\/(gif|png|jpeg)$/):d.name.match(/\\.(gif|png|jpe?g)$/i))&&\"undefined\"!=typeof FileReader){var e=new FileReader,f=this.$preview,g=this.$element;e.onload=function(b){var e=a(\"<img>\");e[0].src=b.target.result,c[0].result=b.target.result,g.find(\".fileinput-filename\").text(d.name),\"none\"!=f.css(\"max-height\")&&e.css(\"max-height\",parseInt(f.css(\"max-height\"),10)-parseInt(f.css(\"padding-top\"),10)-parseInt(f.css(\"padding-bottom\"),10)-parseInt(f.css(\"border-top\"),10)-parseInt(f.css(\"border-bottom\"),10)),f.html(e),g.addClass(\"fileinput-exists\").removeClass(\"fileinput-new\"),g.trigger(\"change.bs.fileinput\",c)},e.readAsDataURL(d)}else this.$element.find(\".fileinput-filename\").text(d.name),this.$preview.text(d.name),this.$element.addClass(\"fileinput-exists\").removeClass(\"fileinput-new\"),this.$element.trigger(\"change.bs.fileinput\")},c.prototype.clear=function(a){if(a&&a.preventDefault(),this.$hidden.val(\"\"),this.$hidden.attr(\"name\",this.name),this.$input.attr(\"name\",\"\"),b){var c=this.$input.clone(!0);this.$input.after(c),this.$input.remove(),this.$input=c}else this.$input.val(\"\");this.$preview.html(\"\"),this.$element.find(\".fileinput-filename\").text(\"\"),this.$element.addClass(\"fileinput-new\").removeClass(\"fileinput-exists\"),void 0!==a&&(this.$input.trigger(\"change\"),this.$element.trigger(\"clear.bs.fileinput\"))},c.prototype.reset=function(){this.clear(),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.$element.find(\".fileinput-filename\").text(\"\"),this.original.exists?this.$element.addClass(\"fileinput-exists\").removeClass(\"fileinput-new\"):this.$element.addClass(\"fileinput-new\").removeClass(\"fileinput-exists\"),this.$element.trigger(\"reset.bs.fileinput\")},c.prototype.trigger=function(a){this.$input.trigger(\"click\"),a.preventDefault()};var d=a.fn.fileinput;a.fn.fileinput=function(b){return this.each(function(){var d=a(this),e=d.data(\"bs.fileinput\");e||d.data(\"bs.fileinput\",e=new c(this,b)),\"string\"==typeof b&&e[b]()})},a.fn.fileinput.Constructor=c,a.fn.fileinput.noConflict=function(){return a.fn.fileinput=d,this},a(document).on(\"click.fileinput.data-api\",'[data-provides=\"fileinput\"]',function(b){var c=a(this);if(!c.data(\"bs.fileinput\")){c.fileinput(c.data());var d=a(b.target).closest('[data-dismiss=\"fileinput\"],[data-trigger=\"fileinput\"]');d.length>0&&(b.preventDefault(),d.trigger(\"click.bs.fileinput\"))}})}(window.jQuery);"],"sourceRoot":"/source/"}